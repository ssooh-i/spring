<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="my.empMapper">  <!-- namespace:이름공간 -->
	<!-- 원칙상으로는 com.ssafy.emp.model.Emp 인데 아까 별칭 준 emp임 -->
	<insert id="insertEmp" parameterType="emp">
		<!-- SQL문 뒤에 ; 붙히면 안됨 -->
		<![CDATA[
		insert into emp(ename, phone, dept)
		values(#{ename},#{phone},#{dept})
		]]>
	</insert>

	<select id="listEmp" resultType="emp">
		<!-- 한번에 들어오는 게 아니라 한건한건들고 가서 selectList가 합침 -->
		<![CDATA[select * from emp]]>
	</select>

	<select id="getEmpByEnoAndDept" parameterType="hashmap"
		resultType="emp"> <!-- 들고가는 값도 있고 결과도 있음 -->
	<![CDATA[
		select * from emp
		where eno <= #{eno} and dept like #{dept}
		]]>
	</select>
	
	<select id="deleteEmp" parameterType="Integer"
		resultType="emp"> 
	<![CDATA[
		delete from emp
		where eno = #{eno}
		]]>
	</select>
	
	<select id="updateEmp" parameterType="hashmap"
		resultType="emp">
	<![CDATA[
		update emp set phone = #{phone}, dept = #{dept}
		where eno = #{eno}
		
		]]>
	</select>
	
	<select id="selectOneEmp" parameterType="Integer" resultType="emp">
    <![CDATA[
        SELECT * FROM emp
        WHERE eno = #{eno}
    ]]>
    </select>

</mapper>




